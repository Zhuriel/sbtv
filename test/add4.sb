iiii iiii
v v  v v
 v    v   // merge inputs a b
 >    >
|   x  |
||     :  :
||     | x |
||     :: &
||     |&||
||     |:|| 0 // input c
||     & &| :
||      &  x| // a xor b, c, a nand b, c
||      : |||
>>     | x x
|x|     : :& |
||::     |&| &
||| x |  |:| |
||:: &  & & |
|||&||   &  |
|||:||    x
||& &| :   w
|| &  x|
|| : |||
>>| x x
|x|: :& |
||::|&| &
||| x | |:| |
||:: &  & & |
|||&||   &  |
|||:||    x
||& &| :   w
|| &  x|
|| : |||
||| x x
||: :& |
::|&| &
| x | |:| |
:: &  & & |
|&||   &  |
|:||    x
& &| :   w
 &  x|
 : |||
| x x
: :& |
|&| &
|:| |
& & |
 &  o
 w
rrrr
|||o
||o
|o
o
